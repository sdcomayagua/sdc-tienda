<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Soluciones Digitales Comayagua (SDC)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Tipograf√≠as -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@700&family=Inter:wght@400;500&display=swap" rel="stylesheet" />

  <style>
    :root {
      --azul: #007BFF;
      --negro: #000000;
      --blanco: #FFFFFF;
      --gris-oscuro: #1A1A1A;
      --verde: #28A745;
      --bg: #05060a;
      --texto: #f5f5f5;
      --texto-suave: rgba(245,245,245,0.8);
      --borde-suave: rgba(255,255,255,0.08);
    }

    @media (prefers-color-scheme: light) {
      :root {
        --bg: #f5f7fb;
        --texto: #111111;
        --texto-suave: #444444;
        --gris-oscuro: #222222;
      }
      body {
        background: radial-gradient(circle at top, #ffffff 0, #f5f7fb 45%, #e5e9f5 100%);
      }
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
      background: radial-gradient(circle at top, #101322 0, #05060a 45%, #000000 100%);
      color: var(--texto);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      scroll-behavior: smooth;
    }

    a { color: inherit; text-decoration: none; }

    header {
      position: sticky;
      top: 0;
      z-index: 50;
      background: rgba(5, 6, 10, 0.96);
      backdrop-filter: blur(12px);
      border-bottom: 1px solid rgba(255, 255, 255, 0.06);
    }

    @media (prefers-color-scheme: light) {
      header {
        background: rgba(245,247,251,0.96);
        border-bottom-color: rgba(0,0,0,0.06);
      }
    }

    .nav {
      max-width: 1100px;
      margin: 0 auto;
      padding: 0.75rem 1rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 1rem;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .logo-icon {
      width: 34px;
      height: 34px;
      border-radius: 12px;
      background: radial-gradient(circle at 30% 0, #00d4ff 0, #007bff 40%, #4b0082 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 0 18px rgba(0, 123, 255, 0.7);
      font-weight: 700;
      font-size: 0.9rem;
      color: #fff;
    }

    .logo-text {
      display: flex;
      flex-direction: column;
      line-height: 1.1;
    }

    .logo-text span:first-child {
      font-family: 'Poppins', system-ui;
      font-size: 1rem;
      letter-spacing: 0.04em;
    }

    .logo-text span:last-child {
      font-size: 0.7rem;
      opacity: 0.7;
    }

    .nav-links {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      font-size: 0.85rem;
    }

    .nav-links a {
      padding: 0.35rem 0.7rem;
      border-radius: 999px;
      border: 1px solid transparent;
      color: rgba(245, 245, 245, 0.85);
      transition: all 0.18s ease-out;
    }

    .nav-links a:hover {
      border-color: rgba(0, 123, 255, 0.7);
      background: rgba(0, 123, 255, 0.08);
      color: #fff;
    }

    @media (prefers-color-scheme: light) {
      .nav-links a {
        color: #222;
      }
      .nav-links a:hover {
        color: #000;
      }
    }

    .nav-cart {
      display: flex;
      align-items: center;
      gap: 0.4rem;
      font-size: 0.85rem;
      cursor: pointer;
      padding: 0.35rem 0.7rem;
      border-radius: 999px;
      background: rgba(0, 0, 0, 0.7);
      border: 1px solid rgba(255, 255, 255, 0.08);
      transition: all 0.18s ease-out;
      color: #fff;
    }

    .nav-cart:hover {
      border-color: rgba(0, 255, 135, 0.7);
      box-shadow: 0 0 14px rgba(0, 255, 135, 0.35);
    }

    @media (prefers-color-scheme: light) {
      .nav-cart {
        background: #ffffff;
        color: #111;
        border-color: rgba(0,0,0,0.08);
      }
    }

    .nav-cart-count {
      min-width: 18px;
      height: 18px;
      border-radius: 999px;
      background: var(--verde);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.7rem;
      font-weight: 600;
      color: #000;
    }

    main {
      flex: 1;
      max-width: 1100px;
      margin: 0 auto;
      padding: 1.5rem 1rem 3rem;
      display: grid;
      grid-template-columns: minmax(0, 2.1fr) minmax(0, 1.2fr);
      gap: 1.75rem;
    }

    @media (max-width: 900px) {
      main {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    .hero {
      display: flex;
      flex-direction: column;
      gap: 1.25rem;
    }

    .badge {
      display: inline-flex;
      align-items: center;
      gap: 0.4rem;
      padding: 0.25rem 0.6rem;
      border-radius: 999px;
      background: rgba(0, 123, 255, 0.12);
      border: 1px solid rgba(0, 123, 255, 0.5);
      font-size: 0.75rem;
      color: #cfe6ff;
      width: fit-content;
    }

    .badge-dot {
      width: 7px;
      height: 7px;
      border-radius: 999px;
      background: #00ff95;
      box-shadow: 0 0 10px rgba(0, 255, 149, 0.9);
    }

    .hero-title {
      font-family: 'Poppins', system-ui;
      font-size: clamp(1.9rem, 3vw, 2.4rem);
      line-height: 1.1;
    }

    .hero-title span {
      background: linear-gradient(120deg, #00d4ff, #00ff95, #ffdd55);
      -webkit-background-clip: text;
      color: transparent;
    }

    .hero-subtitle {
      font-size: 0.95rem;
      max-width: 32rem;
      color: var(--texto-suave);
    }

    .hero-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 0.75rem;
      margin-top: 0.5rem;
    }

    @media (max-width: 600px) {
      .hero-grid {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    .hero-card {
      border-radius: 1rem;
      padding: 0.8rem 0.9rem;
      background: radial-gradient(circle at top left, rgba(0, 123, 255, 0.25), rgba(0, 0, 0, 0.9));
      border: 1px solid rgba(255, 255, 255, 0.06);
      box-shadow: 0 0 18px rgba(0, 0, 0, 0.7);
      display: flex;
      flex-direction: column;
      gap: 0.35rem;
      transition: transform 0.18s ease-out, box-shadow 0.18s ease-out;
    }

    .hero-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 0 22px rgba(0, 123, 255, 0.5);
    }

    @media (prefers-color-scheme: light) {
      .hero-card {
        background: #ffffff;
        border-color: rgba(0,0,0,0.06);
        box-shadow: 0 0 12px rgba(0,0,0,0.06);
      }
    }

    .hero-card h3 {
      font-size: 0.9rem;
      font-weight: 600;
    }

    .hero-card p {
      font-size: 0.8rem;
      color: var(--texto-suave);
    }

    .hero-actions {
      display: flex;
      flex-wrap: wrap;
      gap: 0.6rem;
      margin-top: 0.5rem;
    }

    .btn {
      border-radius: 999px;
      padding: 0.55rem 1.1rem;
      font-size: 0.85rem;
      border: 1px solid transparent;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 0.4rem;
      transition: all 0.18s ease-out;
      background: none;
      color: inherit;
    }

    .btn-primary {
      background: linear-gradient(120deg, #007bff, #00d4ff);
      color: #fff;
      box-shadow: 0 0 18px rgba(0, 123, 255, 0.6);
    }

    .btn-primary:hover {
      filter: brightness(1.08);
      transform: translateY(-1px);
    }

    .btn-ghost {
      border-color: rgba(255, 255, 255, 0.18);
      background: rgba(0, 0, 0, 0.6);
      color: rgba(245, 245, 245, 0.9);
    }

    .btn-ghost:hover {
      border-color: rgba(0, 123, 255, 0.7);
      background: rgba(0, 123, 255, 0.12);
    }

    @media (prefers-color-scheme: light) {
      .btn-ghost {
        background: #ffffff;
        border-color: rgba(0,0,0,0.12);
        color: #111;
      }
    }

    .hero-meta {
      display: flex;
      flex-wrap: wrap;
      gap: 0.75rem;
      margin-top: 0.75rem;
      font-size: 0.75rem;
      color: var(--texto-suave);
    }

    .hero-meta span {
      display: inline-flex;
      align-items: center;
      gap: 0.3rem;
    }

    .panel {
      border-radius: 1.2rem;
      background: radial-gradient(circle at top, rgba(0, 123, 255, 0.18), rgba(0, 0, 0, 0.95));
      border: 1px solid rgba(255, 255, 255, 0.08);
      box-shadow: 0 0 26px rgba(0, 0, 0, 0.9);
      padding: 1rem;
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
      min-height: 320px;
    }

    @media (prefers-color-scheme: light) {
      .panel {
        background: #ffffff;
        border-color: rgba(0,0,0,0.06);
        box-shadow: 0 0 16px rgba(0,0,0,0.08);
      }
    }

    .panel-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 0.5rem;
    }

    .panel-header h2 {
      font-size: 1rem;
      font-family: 'Poppins', system-ui;
    }

    .pill {
      font-size: 0.7rem;
      padding: 0.25rem 0.6rem;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.12);
      color: var(--texto-suave);
    }

    @media (prefers-color-scheme: light) {
      .pill {
        border-color: rgba(0,0,0,0.12);
      }
    }

    .tabs {
      display: flex;
      flex-wrap: wrap;
      gap: 0.4rem;
      margin-top: 0.4rem;
    }

    .tab {
      font-size: 0.75rem;
      padding: 0.25rem 0.6rem;
      border-radius: 999px;
      border: 1px solid transparent;
      cursor: pointer;
      background: rgba(0, 0, 0, 0.6);
      color: var(--texto-suave);
      transition: all 0.16s ease-out;
    }

    .tab.active {
      border-color: rgba(0, 123, 255, 0.9);
      background: rgba(0, 123, 255, 0.18);
      color: #fff;
    }

    @media (prefers-color-scheme: light) {
      .tab {
        background: #f3f5fb;
        color: #333;
      }
      .tab.active {
        background: #007bff;
        color: #fff;
      }
    }

    .catalog-grid {
      margin-top: 0.6rem;
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 0.6rem;
      max-height: 260px;
      overflow: auto;
      padding-right: 0.2rem;
    }

    @media (max-width: 600px) {
      .catalog-grid {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    .product-card {
      border-radius: 0.9rem;
      padding: 0.6rem;
      background: rgba(0, 0, 0, 0.7);
      border: 1px solid rgba(255, 255, 255, 0.06);
      display: flex;
      flex-direction: column;
      gap: 0.35rem;
      font-size: 0.8rem;
      transition: transform 0.16s ease-out, box-shadow 0.16s ease-out;
    }

    .product-card:hover {
      transform: translateY(-1px);
      box-shadow: 0 0 14px rgba(0, 123, 255, 0.5);
    }

    @media (prefers-color-scheme: light) {
      .product-card {
        background: #ffffff;
        border-color: rgba(0,0,0,0.06);
      }
    }

    .product-title {
      font-weight: 600;
      font-size: 0.85rem;
    }

    .product-meta {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 0.4rem;
    }

    .product-price {
      font-weight: 600;
      color: #00ff95;
    }

    .product-tag {
      font-size: 0.7rem;
      padding: 0.15rem 0.45rem;
      border-radius: 999px;
      background: rgba(0, 123, 255, 0.16);
      color: #cfe6ff;
    }

    @media (prefers-color-scheme: light) {
      .product-tag {
        background: #e5f0ff;
        color: #004a9f;
      }
    }

    .product-actions {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 0.4rem;
      margin-top: 0.2rem;
    }

    .btn-add {
      font-size: 0.75rem;
      padding: 0.3rem 0.6rem;
      border-radius: 999px;
      border: none;
      cursor: pointer;
      background: linear-gradient(120deg, #00ff95, #00d4ff);
      color: #000;
      font-weight: 600;
      display: inline-flex;
      align-items: center;
      gap: 0.25rem;
      box-shadow: 0 0 12px rgba(0, 255, 149, 0.6);
      transition: all 0.16s ease-out;
    }

    .btn-add:hover {
      filter: brightness(1.05);
      transform: translateY(-1px);
    }

    .product-stock {
      font-size: 0.7rem;
      opacity: 0.7;
    }

    .cart {
      margin-top: 0.6rem;
      border-radius: 0.9rem;
      padding: 0.6rem;
      background: rgba(0, 0, 0, 0.8);
      border: 1px solid rgba(255, 255, 255, 0.08);
      display: none; /* OCULTO POR DEFECTO */
      flex-direction: column;
      gap: 0.4rem;
      font-size: 0.8rem;
    }

    @media (prefers-color-scheme: light) {
      .cart {
        background: #ffffff;
        border-color: rgba(0,0,0,0.08);
      }
    }

    .cart-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 0.8rem;
    }

    .cart-items {
      max-height: 150px;
      overflow: auto;
      padding-right: 0.2rem;
      display: flex;
      flex-direction: column;
      gap: 0.35rem;
    }

    .cart-item {
      display: grid;
      grid-template-columns: minmax(0, 1.6fr) auto;
      gap: 0.35rem;
      align-items: center;
    }

    .cart-item-main {
      display: flex;
      flex-direction: column;
      gap: 0.15rem;
    }

    .cart-item-title {
      font-size: 0.8rem;
      font-weight: 500;
    }

    .cart-item-meta {
      display: flex;
      align-items: center;
      gap: 0.4rem;
      font-size: 0.75rem;
      opacity: 0.8;
    }

    .cart-item-actions {
      display: flex;
      align-items: center;
      gap: 0.25rem;
      justify-content: flex-end;
    }

    .qty-btn {
      width: 20px;
      height: 20px;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.25);
      background: transparent;
      color: #fff;
      font-size: 0.75rem;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 0;
    }

    @media (prefers-color-scheme: light) {
      .qty-btn {
        border-color: rgba(0,0,0,0.25);
        color: #111;
      }
    }

    .qty {
      min-width: 18px;
      text-align: center;
      font-size: 0.75rem;
    }

    .btn-trash {
      width: 22px;
      height: 22px;
      border-radius: 999px;
      border: none;
      background: rgba(255, 0, 76, 0.16);
      color: #ff6b9a;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.8rem;
    }

    .cart-footer {
      border-top: 1px dashed rgba(255, 255, 255, 0.12);
      padding-top: 0.4rem;
      display: flex;
      flex-direction: column;
      gap: 0.35rem;
    }

    @media (prefers-color-scheme: light) {
      .cart-footer {
        border-top-color: rgba(0,0,0,0.12);
      }
    }

    .cart-row {
      display: flex;
      justify-content: space-between;
      font-size: 0.8rem;
    }

    .cart-total {
      font-weight: 600;
      color: #00ff95;
    }

    .cart-steps {
      margin-top: 0.4rem;
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 0.4rem;
      font-size: 0.75rem;
    }

    @media (max-width: 600px) {
      .cart-steps {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    .cart-step {
      border-radius: 0.7rem;
      padding: 0.4rem 0.45rem;
      background: rgba(0, 0, 0, 0.7);
      border: 1px solid rgba(255, 255, 255, 0.06);
      display: flex;
      flex-direction: column;
      gap: 0.25rem;
    }

    @media (prefers-color-scheme: light) {
      .cart-step {
        background: #f5f7fb;
        border-color: rgba(0,0,0,0.06);
      }
    }

    .cart-step label {
      font-size: 0.7rem;
      opacity: 0.8;
    }

    .cart-step select,
    .cart-step input {
      width: 100%;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.16);
      background: rgba(0, 0, 0, 0.8);
      color: #f5f5f5;
      padding: 0.25rem 0.5rem;
      font-size: 0.75rem;
      outline: none;
    }

    @media (prefers-color-scheme: light) {
      .cart-step select,
      .cart-step input {
        background: #ffffff;
        color: #111;
        border-color: rgba(0,0,0,0.16);
      }
    }

    .cart-actions {
      margin-top: 0.4rem;
      display: flex;
      flex-wrap: wrap;
      gap: 0.4rem;
      justify-content: space-between;
      align-items: center;
    }

    .btn-wa {
      border-radius: 999px;
      padding: 0.45rem 0.9rem;
      font-size: 0.8rem;
      border: none;
      cursor: pointer;
      background: linear-gradient(120deg, #25d366, #00ff95);
      color: #000;
      font-weight: 600;
      display: inline-flex;
      align-items: center;
      gap: 0.3rem;
      box-shadow: 0 0 16px rgba(0, 255, 149, 0.7);
    }

    .btn-wa:disabled {
      opacity: 0.4;
      cursor: not-allowed;
      box-shadow: none;
    }

    .coupon-area {
      display: flex;
      gap: 0.3rem;
      align-items: center;
      font-size: 0.75rem;
    }

    .coupon-area input {
      flex: 1;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.16);
      background: rgba(0,0,0,0.8);
      color: #f5f5f5;
      padding: 0.25rem 0.5rem;
      font-size: 0.75rem;
      outline: none;
    }

    .coupon-area button {
      border-radius: 999px;
      border: none;
      padding: 0.3rem 0.6rem;
      font-size: 0.75rem;
      cursor: pointer;
      background: #007bff;
      color: #fff;
    }

    @media (prefers-color-scheme: light) {
      .coupon-area input {
        background: #ffffff;
        color: #111;
        border-color: rgba(0,0,0,0.16);
      }
    }

    .sections {
      grid-column: 1 / -1;
      margin-top: 1.5rem;
      display: grid;
      grid-template-columns: minmax(0, 1.6fr) minmax(0, 1.2fr);
      gap: 1.25rem;
    }

    @media (max-width: 900px) {
      .sections {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    .section-card {
      border-radius: 1rem;
      padding: 0.9rem;
      background: rgba(0, 0, 0, 0.8);
      border: 1px solid rgba(255, 255, 255, 0.08);
      display: flex;
      flex-direction: column;
      gap: 0.4rem;
      font-size: 0.85rem;
    }

    @media (prefers-color-scheme: light) {
      .section-card {
        background: #ffffff;
        border-color: rgba(0,0,0,0.06);
      }
    }

    .section-card h3 {
      font-family: 'Poppins', system-ui;
      font-size: 0.95rem;
    }

    .section-card p {
      font-size: 0.8rem;
      color: var(--texto-suave);
    }

    .section-list {
      margin-top: 0.3rem;
      font-size: 0.8rem;
      color: var(--texto-suave);
    }

    .section-list li {
      margin-left: 1rem;
      margin-bottom: 0.2rem;
    }

    /* Acordeones */
    .accordion {
      border-radius: 0.9rem;
      overflow: hidden;
      border: 1px solid var(--borde-suave);
    }

    .accordion-header {
      width: 100%;
      text-align: left;
      padding: 0.6rem 0.8rem;
      background: rgba(0,0,0,0.7);
      cursor: pointer;
      border: none;
      color: var(--texto);
      font-size: 0.85rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    @media (prefers-color-scheme: light) {
      .accordion-header {
        background: #f5f7fb;
      }
    }

    .accordion-header span {
      font-family: 'Poppins', system-ui;
    }

    .accordion-content {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.25s ease-out;
      background: rgba(0,0,0,0.85);
      padding: 0 0.8rem;
    }

    @media (prefers-color-scheme: light) {
      .accordion-content {
        background: #ffffff;
      }
    }

    .accordion-content-inner {
      padding: 0.6rem 0 0.8rem;
      font-size: 0.8rem;
      color: var(--texto-suave);
    }

    .accordion.open .accordion-content {
      max-height: 400px;
    }

    footer {
      border-top: 1px solid rgba(255, 255, 255, 0.06);
      padding: 0.9rem 1rem 1.2rem;
      font-size: 0.75rem;
      color: rgba(245, 245, 245, 0.7);
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 0.6rem;
    }

    @media (prefers-color-scheme: light) {
      footer {
        border-top-color: rgba(0,0,0,0.06);
        color: #555;
      }
    }

    footer a {
      color: #cfe6ff;
    }

    @media (prefers-color-scheme: light) {
      footer a {
        color: #0056b3;
      }
    }

    /* Bot√≥n flotante IR A PAGAR */
    .btn-floating {
      position: fixed;
      bottom: 1.2rem;
      right: 1.2rem;
      background: linear-gradient(120deg, #00ff95, #00d4ff);
      color: #000;
      font-weight: 600;
      border-radius: 999px;
      padding: 0.6rem 1rem;
      box-shadow: 0 0 12px rgba(0, 255, 149, 0.6);
      z-index: 100;
      display: none;
      border: none;
      font-size: 0.85rem;
      cursor: pointer;
    }

    /* Testimonios y redes */
    .testimonials-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 0.6rem;
      margin-top: 0.4rem;
    }

    @media (max-width: 600px) {
      .testimonials-grid {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    .testimonial-card {
      border-radius: 0.8rem;
      padding: 0.6rem;
      background: rgba(0,0,0,0.7);
      border: 1px solid rgba(255,255,255,0.06);
      font-size: 0.78rem;
    }

    @media (prefers-color-scheme: light) {
      .testimonial-card {
        background: #f5f7fb;
        border-color: rgba(0,0,0,0.06);
      }
    }

    .testimonial-name {
      font-weight: 600;
      margin-bottom: 0.15rem;
    }

    .testimonial-type {
      font-size: 0.7rem;
      opacity: 0.8;
      margin-bottom: 0.25rem;
    }

    .social-links {
      display: flex;
      flex-wrap: wrap;
      gap: 0.4rem;
      margin-top: 0.4rem;
      font-size: 0.8rem;
    }

    .social-link {
      padding: 0.25rem 0.6rem;
      border-radius: 999px;
      border: 1px solid var(--borde-suave);
      cursor: pointer;
    }

    /* Admin (simple, oculto) */
    .admin-panel {
      display: none;
      font-size: 0.8rem;
      margin-top: 0.5rem;
      padding: 0.6rem;
      border-radius: 0.8rem;
      background: rgba(0,0,0,0.7);
      border: 1px dashed rgba(255,255,255,0.2);
    }

    @media (prefers-color-scheme: light) {
      .admin-panel {
        background: #f5f7fb;
        border-color: rgba(0,0,0,0.2);
      }
    }
  </style>
</head>
<body>
  <header>
    <nav class="nav">
      <div class="logo">
        <div class="logo-icon">SD</div>
        <div class="logo-text">
          <span id="txtBrand">Soluciones Digitales Comayagua</span>
          <span id="txtBrandSub">Gaming ¬∑ Accesorios ¬∑ Servicios</span>
        </div>
      </div>
      <div class="nav-links">
        <a href="#inicio" id="navInicio">Inicio</a>
        <a href="#catalogo" id="navCatalogo">Cat√°logo</a>
        <a href="#ofertas" id="navOfertas">Ofertas</a>
        <a href="#testimonios" id="navTestimonios">Testimonios</a>
        <a href="#faq" id="navPreguntas">Preguntas</a>
        <a href="#ubicacion" id="navUbicacion">Ubicaci√≥n</a>
        <a href="#privacidad" id="navPrivacidad">Privacidad</a>
        <a href="#contacto" id="navContacto">Contacto</a>
      </div>
      <button class="nav-cart" type="button" onclick="mostrarCarrito()">
        <span id="navCartText">Carrito</span>
        <span class="nav-cart-count" id="navCartCount">0</span>
      </button>
    </nav>
  </header>

  <main>
    <!-- INICIO -->
    <section id="inicio" class="hero">
      <div class="badge">
        <span class="badge-dot"></span>
        <span id="txtBadge">Env√≠os a todo Honduras ¬∑ Actualizado desde Google Sheets</span>
      </div>

      <h1 class="hero-title" id="txtHeroTitle">
        Todo tu <span>mundo gamer y digital</span> en un solo lugar.
      </h1>

      <p class="hero-subtitle" id="txtHeroSubtitle">
        Soluciones Digitales Comayagua (SDC) te ofrece productos Gamer, accesorios tecnol√≥gicos y servicios digitales con env√≠os a todo Honduras. Compra f√°cil, r√°pido y seguro desde tu m√≥vil o PC.
      </p>

      <div class="hero-grid">
        <article class="hero-card">
          <h3 id="txtHeroCard1Title">Cat√°logo conectado a Google Sheets</h3>
          <p id="txtHeroCard1Body">
            Gestiona tu inventario desde una sola hoja. El cat√°logo se actualiza autom√°ticamente sin tocar el c√≥digo.
          </p>
        </article>
        <article class="hero-card">
          <h3 id="txtHeroCard2Title">Carrito + WhatsApp</h3>
          <p id="txtHeroCard2Body">
            Tus clientes agregan productos, eligen env√≠o y pago, y confirman el pedido directo por WhatsApp.
          </p>
        </article>
        <article class="hero-card">
          <h3 id="txtHeroCard3Title">Env√≠os Comayagua y nacionales</h3>
          <p id="txtHeroCard3Body">
            Tarifas din√°micas por zona, empresa y tipo de servicio, todo controlado desde Google Sheets.
          </p>
        </article>
        <article class="hero-card">
          <h3 id="txtHeroCard4Title">Dise√±o gamer, moderno y minimalista</h3>
          <p id="txtHeroCard4Body">
            Azul el√©ctrico, modo oscuro, tipograf√≠as Poppins e Inter, y animaciones suaves para una experiencia pro.
          </p>
        </article>
      </div>

      <div class="hero-actions">
        <button class="btn btn-primary" type="button" onclick="scrollToCatalogo()" id="btnVerCatalogo">
          Ver cat√°logo en vivo
        </button>
        <button class="btn btn-ghost" type="button" onclick="scrollToFaq()" id="btnComoFunciona">
          ¬øC√≥mo funciona todo?
        </button>
      </div>

      <div class="hero-meta">
        <span id="meta1">‚ö° Actualizable sin programar</span>
        <span id="meta2">üõí Carrito con resumen completo</span>
        <span id="meta3">üì≤ Pedido final por WhatsApp</span>
      </div>
    </section>

    <!-- PANEL DERECHO: CAT√ÅLOGO + CARRITO -->
    <section id="catalogo" class="panel">
      <div class="panel-header">
        <div>
          <h2 id="txtCatalogoTitulo">Cat√°logo SDC</h2>
          <div class="tabs">
            <button class="tab active" data-category="all" type="button" onclick="setCategory('all', this)" id="tabTodo">Todo</button>
            <button class="tab" data-category="M√≥vil" type="button" onclick="setCategory('M√≥vil', this)" id="tabMovil">M√≥vil</button>
            <button class="tab" data-category="PC" type="button" onclick="setCategory('PC', this)" id="tabPC">PC</button>
            <button class="tab" data-category="Servicios" type="button" onclick="setCategory('Servicios', this)" id="tabServicios">Servicios digitales</button>
            <button class="tab" data-category="Ofertas" type="button" onclick="setCategory('Ofertas', this)" id="tabOfertas">Ofertas</button>
          </div>
        </div>
        <span class="pill" id="catalogInfo">Cargando cat√°logo‚Ä¶</span>
      </div>

      <div class="catalog-grid" id="catalogGrid">
        <!-- Productos din√°micos -->
      </div>

      <!-- CARRITO -->
      <div id="carrito" class="cart">
        <div class="cart-header">
          <span id="txtCarritoTitulo">Carrito de compra</span>
          <span id="cartStatus">Sin productos</span>
        </div>

        <div class="cart-items" id="cartItems"></div>

        <div class="cart-footer">
          <div class="cart-row">
            <span id="txtSubtotal">Subtotal</span>
            <span id="cartSubtotal">L 0.00</span>
          </div>
          <div class="cart-row">
            <span id="txtEnvio">Env√≠o</span>
            <span id="cartShipping">L 0.00</span>
          </div>
          <div class="cart-row">
            <span class="cart-total" id="txtTotal">Total</span>
            <span class="cart-total" id="cartTotal">L 0.00</span>
          </div>

          <div class="cart-steps">
            <div class="cart-step">
              <label for="envioSelect" id="lblEnvio">3. Seleccionar env√≠o</label>
              <select id="envioSelect" onchange="updateShippingAndPayment()">
                <option value="">Selecciona una opci√≥n</option>
                <option value="comayagua">Comayagua (zonas)</option>
                <option value="nacional">Otros departamentos</option>
              </select>
              <select id="envioDetalle" onchange="updateShippingAndPayment()">
                <option value="">Detalle de env√≠o</option>
              </select>
            </div>

            <div class="cart-step">
              <label for="pagoSelect" id="lblPago">4. M√©todo de pago</label>
              <select id="pagoSelect" onchange="updatePaymentFields()">
                <option value="">Selecciona un m√©todo</option>
                <option value="contraentrega">Pagar al recibir</option>
                <option value="transferencia">Transferencia bancaria</option>
                <option value="paypal">PayPal</option>
                <option value="tigo">Tigo Money</option>
              </select>
              <select id="bancoSelect" style="display:none; margin-top:0.25rem;">
                <option value="">Selecciona banco</option>
                <option value="Atlantida">Banco Atl√°ntida</option>
                <option value="Ficohsa">Ficohsa</option>
                <option value="Banpais">Banpa√≠s</option>
                <option value="BAC">BAC Credomatic</option>
                <option value="Occidente">Banco de Occidente</option>
              </select>
              <input id="pagoExtra" type="text" placeholder="¬øCon cu√°nto pagar√°?" style="display:none; margin-top:0.25rem;" />
            </div>
          </div>

          <div class="cart-steps">
            <div class="cart-step">
              <label for="couponInput">Cup√≥n de descuento</label>
              <div class="coupon-area">
                <input id="couponInput" type="text" placeholder="Ingresa tu cup√≥n" />
                <button type="button" onclick="aplicarCupon()">Aplicar</button>
              </div>
              <small id="couponStatus" style="font-size:0.7rem; opacity:0.8;"></small>
            </div>
            <div class="cart-step">
              <label>Modo cat√°logo</label>
              <p style="font-size:0.75rem; opacity:0.8;" id="txtModoCatalogo">
                Puedes usar este sitio solo como cat√°logo desactivando el carrito (configurable en el c√≥digo).
              </p>
            </div>
          </div>

          <div class="cart-actions">
            <span style="font-size:0.75rem; opacity:0.8;" id="txtResumen">
              Revisa tu pedido antes de enviarlo por WhatsApp.
            </span>
            <button class="btn-wa" type="button" id="btnWhatsApp" onclick="sendWhatsApp()" disabled>
              Enviar pedido por WhatsApp
            </button>
          </div>
        </div>
      </div>
    </section>

    <!-- SECCIONES INFERIORES -->
    <section class="sections">
      <article id="ofertas" class="section-card">
        <h3 id="txtOfertasTitulo">Ofertas y cupones</h3>
        <p id="txtOfertasBody">
          Aprovecha promociones por cantidad, combos especiales, descuentos por temporada y cupones exclusivos. Todo esto puede
          gestionarse desde tu hoja de productos en Google Sheets usando columnas como <strong>oferta</strong> y <strong>cup√≥n</strong>.
        </p>
        <ul class="section-list" id="txtOfertasLista">
          <li>Ofertas por cantidad (precio mayorista).</li>
          <li>Cupones configurables desde Sheets.</li>
          <li>Secci√≥n de ‚ÄúOfertas‚Äù filtrada autom√°ticamente.</li>
        </ul>
      </article>

      <article id="testimonios" class="section-card">
        <h3 id="txtTestimoniosTitulo">Testimonios reales</h3>
        <p id="txtTestimoniosBody">
          La opini√≥n de nuestros clientes es nuestra mejor carta de presentaci√≥n. Conoce sus experiencias reales y aumenta la
          confianza en tu tienda.
        </p>
        <div class="testimonials-grid" id="testimonialsGrid">
          <!-- Testimonios din√°micos -->
        </div>
      </article>

      <article id="faq" class="section-card">
        <div class="accordion" id="accordionFaq">
          <button class="accordion-header" type="button" onclick="toggleAccordion('accordionFaq')">
            <span id="txtFaqTitulo">Preguntas frecuentes</span>
            <span>+</span>
          </button>
          <div class="accordion-content">
            <div class="accordion-content-inner" id="txtFaqBody">
              <p>¬øC√≥mo agrego productos al carrito?</p>
              <p>¬øQu√© m√©todos de pago aceptan?</p>
              <p>¬øCu√°nto tarda el env√≠o a mi ciudad?</p>
              <p>¬øPuedo pagar al recibir en Comayagua?</p>
            </div>
          </div>
        </div>
      </article>

      <article id="ubicacion" class="section-card">
        <div class="accordion" id="accordionUbicacion">
          <button class="accordion-header" type="button" onclick="toggleAccordion('accordionUbicacion')">
            <span id="txtUbicacionTitulo">Ubicaci√≥n y cobertura</span>
            <span>+</span>
          </button>
          <div class="accordion-content">
            <div class="accordion-content-inner" id="txtUbicacionBody">
              <p>
                Tienda en l√≠nea con punto f√≠sico disponible. Encu√©ntranos en Google Maps, Waze y Apple Maps. Desde Comayagua enviamos a
                todo Honduras usando las empresas configuradas en tu hoja de <strong>Env√≠os Nacionales</strong>.
              </p>
              <p>
                <a href="#ubicacion">Ver detalles de ubicaci√≥n dentro del sitio.</a>
              </p>
            </div>
          </div>
        </div>
      </article>

      <article id="privacidad" class="section-card">
        <div class="accordion" id="accordionPrivacidad">
          <button class="accordion-header" type="button" onclick="toggleAccordion('accordionPrivacidad')">
            <span id="txtPrivacidadTitulo">Pol√≠tica de privacidad</span>
            <span>+</span>
          </button>
          <div class="accordion-content">
            <div class="accordion-content-inner" id="txtPrivacidadBody">
              <p>
                Tu informaci√≥n y la de tus clientes se maneja con responsabilidad. Puedes administrar el contenido de esta secci√≥n desde
                la hoja <strong>Pol√≠tica de Privacidad</strong> en Google Sheets, por secciones.
              </p>
            </div>
          </div>
        </div>
      </article>

      <article id="contacto" class="section-card">
        <h3 id="txtContactoTitulo">Contacto y redes sociales</h3>
        <p id="txtContactoBody">
          Integra tus redes sociales y canales de contacto desde la hoja <strong>Redes Sociales</strong>. Muestra enlaces a WhatsApp,
          Facebook, Instagram, TikTok o la plataforma que prefieras.
        </p>
        <div class="social-links" id="socialLinks">
          <!-- Redes din√°micas -->
        </div>
        <p style="font-size:0.78rem; opacity:0.8;" id="txtContactoExtra">
          El bot√≥n de WhatsApp del carrito usa una URL codificada con el resumen del pedido para que el cliente solo toque y env√≠e.
        </p>

        <div class="admin-panel" id="adminPanel">
          <strong>Panel de administraci√≥n (simple)</strong>
          <p>Este panel puede ampliarse para ver pedidos, estad√≠sticas y m√°s, usando Google Sheets + Apps Script.</p>
        </div>
      </article>
    </section>
  </main>

  <footer>
    <span>¬© <span id="year"></span> Soluciones Digitales Comayagua ¬∑ SDC</span>
    <span id="txtFooter">Desplegado en GitHub Pages ¬∑ Cat√°logo desde Google Sheets</span>
  </footer>

  <!-- Bot√≥n flotante IR A PAGAR -->
  <button id="btnIrAPagar" class="btn-floating" type="button" onclick="mostrarCarrito()">
    üõí Ir a pagar
  </button>

  <script>
    // ==========================
    // CONFIGURACI√ìN B√ÅSICA
    // ==========================

    const SHEETBEST = "https://api.sheetbest.com/sheets/2f50fe4e-6985-4677-b5de-968b83268bc4";
    const SHEETDB   = "https://sheetdb.io/api/v1/9ynyemsm9a1w1";

    const SHEETS_CONFIG = {
      productos:        SHEETBEST + "?sheet=Productos",
      enviosComayagua:  SHEETBEST + "?sheet=Env√≠os%20Comayagua",
      enviosNacionales: SHEETBEST + "?sheet=Env√≠os%20Nacionales",
      metodosPago:      SHEETBEST + "?sheet=M√©todos%20de%20Pago",
      testimonios:      SHEETBEST + "?sheet=Testimonios",
      redes:            SHEETBEST + "?sheet=Redes%20Sociales",
      privacidad:       SHEETBEST + "?sheet=Pol√≠tica%20de%20Privacidad"
    };

    // N√∫mero de WhatsApp al que se enviar√° el pedido (formato internacional sin +)
    const WHATSAPP_NUMBER = '504XXXXXXXX'; // c√°mbialo por tu n√∫mero real

    // Modo cat√°logo (si true, oculta carrito y WhatsApp)
    const CATALOG_ONLY = false;

    // Estado global
    let productos = [];
    let productosFiltrados = [];
    let carrito = [];
    let enviosComayagua = [];
    let enviosNacionales = [];
    let envioSeleccionado = null;
    let envioTipo = '';
    let envioCosto = 0;
    let descuentoCupon = 0;
    let cuponAplicado = null;

    let testimonios = [];
    let redesSociales = [];

    // ==========================
    // MULTILENGUAJE SIMPLE
    // ==========================

    const isEnglish = navigator.language && navigator.language.toLowerCase().startsWith('en');

    function applyTranslations() {
      if (!isEnglish) return;

      // Solo traducciones b√°sicas (lo importante)
      document.documentElement.lang = 'en';

      document.getElementById('txtBrand').textContent = 'Digital Solutions Comayagua';
      document.getElementById('txtBrandSub').textContent = 'Gaming ¬∑ Accessories ¬∑ Services';

      document.getElementById('navInicio').textContent = 'Home';
      document.getElementById('navCatalogo').textContent = 'Catalog';
      document.getElementById('navOfertas').textContent = 'Deals';
      document.getElementById('navTestimonios').textContent = 'Reviews';
      document.getElementById('navPreguntas').textContent = 'FAQ';
      document.getElementById('navUbicacion').textContent = 'Location';
      document.getElementById('navPrivacidad').textContent = 'Privacy';
      document.getElementById('navContacto').textContent = 'Contact';

      document.getElementById('txtBadge').textContent = 'Shipping across Honduras ¬∑ Updated from Google Sheets';
      document.getElementById('txtHeroTitle').innerHTML = 'Your entire <span>gamer and digital world</span> in one place.';
      document.getElementById('txtHeroSubtitle').textContent =
        'Digital Solutions Comayagua (SDC) offers gaming products, tech accessories and digital services with shipping across Honduras. Buy easily and safely from your phone or PC.';

      document.getElementById('txtHeroCard1Title').textContent = 'Catalog connected to Google Sheets';
      document.getElementById('txtHeroCard1Body').textContent = 'Manage your inventory from a single sheet. The catalog updates automatically without touching the code.';
      document.getElementById('txtHeroCard2Title').textContent = 'Cart + WhatsApp';
      document.getElementById('txtHeroCard2Body').textContent = 'Your customers add products, choose shipping and payment, and confirm the order via WhatsApp.';
      document.getElementById('txtHeroCard3Title').textContent = 'Local and national shipping';
      document.getElementById('txtHeroCard3Body').textContent = 'Dynamic rates by zone, company and service type, all controlled from Google Sheets.';
      document.getElementById('txtHeroCard4Title').textContent = 'Modern, minimal gamer design';
      document.getElementById('txtHeroCard4Body').textContent = 'Electric blue, dark mode, Poppins and Inter fonts, and smooth animations for a pro experience.';

      document.getElementById('btnVerCatalogo').textContent = 'View live catalog';
      document.getElementById('btnComoFunciona').textContent = 'How does it work?';

      document.getElementById('meta1').textContent = '‚ö° Updatable without coding';
      document.getElementById('meta2').textContent = 'üõí Cart with full summary';
      document.getElementById('meta3').textContent = 'üì≤ Final order via WhatsApp';

      document.getElementById('txtCatalogoTitulo').textContent = 'SDC Catalog';
      document.getElementById('tabTodo').textContent = 'All';
      document.getElementById('tabMovil').textContent = 'Mobile';
      document.getElementById('tabPC').textContent = 'PC';
      document.getElementById('tabServicios').textContent = 'Digital services';
      document.getElementById('tabOfertas').textContent = 'Deals';

      document.getElementById('txtCarritoTitulo').textContent = 'Shopping cart';
      document.getElementById('txtSubtotal').textContent = 'Subtotal';
      document.getElementById('txtEnvio').textContent = 'Shipping';
      document.getElementById('txtTotal').textContent = 'Total';
      document.getElementById('lblEnvio').textContent = '3. Select shipping';
      document.getElementById('lblPago').textContent = '4. Payment method';
      document.getElementById('couponInput').placeholder = 'Enter your coupon';
      document.getElementById('txtModoCatalogo').textContent =
        'You can use this site as a catalog only by disabling the cart (configurable in the code).';
      document.getElementById('txtResumen').textContent = 'Review your order before sending it via WhatsApp.';
      document.getElementById('btnWhatsApp').textContent = 'Send order via WhatsApp';
      document.getElementById('btnIrAPagar').textContent = 'üõí Checkout';

      document.getElementById('txtOfertasTitulo').textContent = 'Deals and coupons';
      document.getElementById('txtOfertasBody').textContent =
        'Take advantage of quantity discounts, special combos, seasonal offers and exclusive coupons. All managed from your Products sheet in Google Sheets.';
      document.getElementById('txtOfertasLista').innerHTML =
        '<li>Quantity-based deals (wholesale price).</li><li>Coupons configurable from Sheets.</li><li>‚ÄúDeals‚Äù section filtered automatically.</li>';

      document.getElementById('txtTestimoniosTitulo').textContent = 'Real reviews';
      document.getElementById('txtTestimoniosBody').textContent =
        'Customer opinions are your best presentation card. Show real experiences and increase trust in your store.';

      document.getElementById('txtFaqTitulo').textContent = 'Frequently asked questions';
      document.getElementById('txtFaqBody').innerHTML =
        '<p>How do I add products to the cart?</p><p>Which payment methods do you accept?</p><p>How long does shipping take to my city?</p><p>Can I pay on delivery in Comayagua?</p>';

      document.getElementById('txtUbicacionTitulo').textContent = 'Location and coverage';
      document.getElementById('txtUbicacionBody').innerHTML =
        '<p>Online store with physical pickup point available. Find us on Google Maps, Waze and Apple Maps. From Comayagua we ship across Honduras using the companies configured in your ‚ÄúNational Shipping‚Äù sheet.</p><p><a href="#ubicacion">See location details inside the site.</a></p>';

      document.getElementById('txtPrivacidadTitulo').textContent = 'Privacy policy';
      document.getElementById('txtPrivacidadBody').innerHTML =
        '<p>Your information and your customers‚Äô data are handled responsibly. You can manage this section‚Äôs content from the ‚ÄúPrivacy Policy‚Äù sheet in Google Sheets, by sections.</p>';

      document.getElementById('txtContactoTitulo').textContent = 'Contact and social media';
      document.getElementById('txtContactoBody').textContent =
        'Integrate your social media and contact channels from the ‚ÄúSocial Networks‚Äù sheet. Show links to WhatsApp, Facebook, Instagram, TikTok or any platform you prefer.';
      document.getElementById('txtContactoExtra').textContent =
        'The WhatsApp button in the cart uses a URL encoded with the order summary so the customer just taps and sends.';

      document.getElementById('txtFooter').textContent = 'Deployed on GitHub Pages ¬∑ Catalog from Google Sheets';
      document.getElementById('navCartText').textContent = 'Cart';
    }

    // ==========================
    // UTILIDADES
    // ==========================

    function formatCurrency(value) {
      return 'L ' + (Number(value) || 0).toFixed(2);
    }

    function scrollToCatalogo() {
      document.getElementById('catalogo').scrollIntoView({ behavior: 'smooth' });
    }

    function scrollToFaq() {
      document.getElementById('faq').scrollIntoView({ behavior: 'smooth' });
    }

    function mostrarCarrito() {
      if (CATALOG_ONLY) return;
      const cart = document.getElementById('carrito');
      cart.style.display = cart.style.display === 'flex' ? 'none' : 'flex';
      if (cart.style.display === 'flex') {
        cart.scrollIntoView({ behavior: 'smooth' });
      }
    }

    function setCategory(category, el) {
      document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
      el.classList.add('active');
      if (category === 'all') {
        productosFiltrados = [...productos];
      } else if (category === 'Ofertas') {
        productosFiltrados = productos.filter(p => (p.oferta || '').toString().toLowerCase() === 'true');
      } else {
        productosFiltrados = productos.filter(p => (p.categoria || '').toLowerCase() === category.toLowerCase());
      }
      renderCatalog();
    }

    function updateNavCartCount() {
      const count = carrito.reduce((acc, item) => acc + item.cantidad, 0);
      document.getElementById('navCartCount').textContent = count;
      const btnFloat = document.getElementById('btnIrAPagar');
      if (count > 0 && !CATALOG_ONLY) {
        btnFloat.style.display = 'inline-flex';
      } else {
        btnFloat.style.display = 'none';
      }
    }

    function toggleAccordion(id) {
      const acc = document.getElementById(id);
      acc.classList.toggle('open');
    }

    // ==========================
    // CARGA DESDE GOOGLE SHEETS
    // ==========================

    async function fetchJSON(url) {
      try {
        const res = await fetch(url);
        if (!res.ok) throw new Error("Error en SheetBest");
        return await res.json();
      } catch (e) {
        console.warn("SheetBest fall√≥, usando SheetDB:", url);
        const match = url.match(/sheet=([^&]+)/);
        const sheetName = match ? decodeURIComponent(match[1]) : '';
        const backupURL = SHEETDB + "?sheet=" + encodeURIComponent(sheetName);
        const res2 = await fetch(backupURL);
        if (!res2.ok) throw new Error("Error en SheetDB");
        return await res2.json();
      }
    }

    async function loadData() {
      try {
        document.getElementById('catalogInfo').textContent = 'Cargando cat√°logo‚Ä¶';

        // Productos
        const dataProductos = await fetchJSON(SHEETS_CONFIG.productos);
        if (dataProductos && Array.isArray(dataProductos)) {
          productos = dataProductos;
        } else {
          productos = [];
        }

        if (!productos.length) {
          productos = [
            {
              id: '1',
              categoria: 'M√≥vil',
              subcategoria: 'Gamer',
              nombre: 'Gamepad Bluetooth para m√≥vil',
              descripcion: 'Control inal√°mbrico compatible con Android y iOS.',
              precio: 850,
              precio_mayor: 780,
              stock: 10,
              oferta: 'TRUE',
              cupon: 'GAMER10'
            },
            {
              id: '2',
              categoria: 'PC',
              subcategoria: 'Perif√©ricos',
              nombre: 'Teclado mec√°nico RGB',
              descripcion: 'Switches azules, iluminaci√≥n RGB completa.',
              precio: 1450,
              precio_mayor: 1350,
              stock: 5,
              oferta: '',
              cupon: 'RGB5'
            },
            {
              id: '3',
              categoria: 'Servicios',
              subcategoria: 'Streaming',
              nombre: 'Cuenta de streaming 4K',
              descripcion: 'Servicio mensual con soporte dedicado.',
              precio: 320,
              precio_mayor: 300,
              stock: 999,
              oferta: '',
              cupon: ''
            }
          ];
        }

        productosFiltrados = [...productos];
        renderCatalog();
        document.getElementById('catalogInfo').textContent = productos.length + ' productos disponibles';

        // Env√≠os Comayagua
        const dataEnviosCom = await fetchJSON(SHEETS_CONFIG.enviosComayagua);
        if (dataEnviosCom && Array.isArray(dataEnviosCom)) {
          enviosComayagua = dataEnviosCom;
        } else {
          enviosComayagua = [
            { zona: 'Centro', tarifa: 40, descripcion: 'Centro de Comayagua' },
            { zona: 'Periferia', tarifa: 60, descripcion: 'Barrios y colonias' }
          ];
        }

        // Env√≠os Nacionales
        const dataEnviosNac = await fetchJSON(SHEETS_CONFIG.enviosNacionales);
        if (dataEnviosNac && Array.isArray(dataEnviosNac)) {
          enviosNacionales = dataEnviosNac;
        } else {
          enviosNacionales = [
            { empresa: 'Cargo Expreso', tipo_servicio: 'Normal', departamento: 'Francisco Moraz√°n', municipio: 'Tegucigalpa', costo: 120 },
            { empresa: 'Cargo Expreso', tipo_servicio: 'Normal', departamento: 'Cort√©s', municipio: 'San Pedro Sula', costo: 130 }
          ];
        }

        // Testimonios
        try {
          const dataTest = await fetchJSON(SHEETS_CONFIG.testimonios);
          if (Array.isArray(dataTest)) testimonios = dataTest;
        } catch {}

        renderTestimonios();

        // Redes sociales
        try {
          const dataRedes = await fetchJSON(SHEETS_CONFIG.redes);
          if (Array.isArray(dataRedes)) redesSociales = dataRedes;
        } catch {}

        renderRedes();

      } catch (err) {
        console.error(err);
        document.getElementById('catalogInfo').textContent = 'Error al cargar datos. Usando modo demo.';
      }
    }

    // ==========================
    // RENDER DEL CAT√ÅLOGO
    // ==========================

    function renderCatalog() {
      const grid = document.getElementById('catalogGrid');
      grid.innerHTML = '';

      if (!productosFiltrados.length) {
        grid.innerHTML = '<p style="font-size:0.8rem; opacity:0.8;">No hay productos para esta categor√≠a.</p>';
        return;
      }

      productosFiltrados.forEach(prod => {
        const card = document.createElement('article');
        card.className = 'product-card';

        const title = document.createElement('div');
        title.className = 'product-title';
        title.textContent = prod.nombre || 'Producto sin nombre';

        const desc = document.createElement('p');
        desc.style.fontSize = '0.75rem';
        desc.style.opacity = '0.8';
        desc.textContent = prod.descripcion || '';

        const meta = document.createElement('div');
        meta.className = 'product-meta';

        const price = document.createElement('span');
        price.className = 'product-price';
        price.textContent = formatCurrency(prod.precio);

        const tag = document.createElement('span');
        tag.className = 'product-tag';
        tag.textContent = (prod.categoria || '') + (prod.subcategoria ? ' ¬∑ ' + prod.subcategoria : '');

        meta.appendChild(price);
        meta.appendChild(tag);

        const actions = document.createElement('div');
        actions.className = 'product-actions';

        const stock = document.createElement('span');
        stock.className = 'product-stock';
        stock.textContent = 'Stock: ' + (prod.stock ?? '‚Äî');

        const btn = document.createElement('button');
        btn.className = 'btn-add';
        btn.type = 'button';
        btn.innerHTML = '<span>Agregar</span><span>+</span>';
        btn.onclick = () => addToCart(prod);

        actions.appendChild(stock);
        actions.appendChild(btn);

        card.appendChild(title);
        card.appendChild(desc);
        card.appendChild(meta);
        card.appendChild(actions);

        grid.appendChild(card);
      });
    }

    // ==========================
    // TESTIMONIOS Y REDES
    // ==========================

    function renderTestimonios() {
      const grid = document.getElementById('testimonialsGrid');
      grid.innerHTML = '';

      if (!testimonios.length) {
        grid.innerHTML = '<p style="font-size:0.78rem; opacity:0.8;">A√∫n no hay testimonios cargados.</p>';
        return;
      }

      testimonios.forEach(t => {
        const card = document.createElement('div');
        card.className = 'testimonial-card';

        const name = document.createElement('div');
        name.className = 'testimonial-name';
        name.textContent = t.nombre || 'Cliente';

        const type = document.createElement('div');
        type.className = 'testimonial-type';
        type.textContent = (t.ubicacion || '') + (t.tipo_cliente ? ' ¬∑ ' + t.tipo_cliente : '');

        const body = document.createElement('div');
        body.textContent = t.testimonio || '';

        card.appendChild(name);
        card.appendChild(type);
        card.appendChild(body);

        grid.appendChild(card);
      });
    }

    function renderRedes() {
      const container = document.getElementById('socialLinks');
      container.innerHTML = '';

      if (!redesSociales.length) {
        container.innerHTML = '<span style="font-size:0.78rem; opacity:0.8;">Configura tus redes en la hoja ‚ÄúRedes Sociales‚Äù.</span>';
        return;
      }

      redesSociales.forEach(r => {
        const a = document.createElement('a');
        a.className = 'social-link';
        a.href = r.url || '#';
        a.target = '_blank';
        a.rel = 'noopener noreferrer';
        a.textContent = r.plataforma || 'Red';
        container.appendChild(a);
      });
    }

    // ==========================
    // CARRITO
    // ==========================

    function addToCart(prod) {
      if (CATALOG_ONLY) return;

      const existing = carrito.find(item => item.id === prod.id);
      if (existing) {
        existing.cantidad += 1;
      } else {
        carrito.push({
          id: prod.id,
          nombre: prod.nombre,
          precio: Number(prod.precio) || 0,
          precio_mayor: Number(prod.precio_mayor) || 0,
          cantidad: 1,
          cupon: prod.cupon || ''
        });
      }
      renderCart();
      // Notificaci√≥n simple (simula "notificaci√≥n de env√≠o/pedido")
      console.log('Producto agregado al carrito:', prod.nombre);
    }

    function changeQty(id, delta) {
      const item = carrito.find(i => i.id === id);
      if (!item) return;
      item.cantidad += delta;
      if (item.cantidad <= 0) {
        carrito = carrito.filter(i => i.id !== id);
      }
      renderCart();
    }

    function removeFromCart(id) {
      carrito = carrito.filter(i => i.id !== id);
      renderCart();
    }

    function calcularSubtotal() {
      let subtotal = 0;
      carrito.forEach(item => {
        let precioUnit = item.precio;
        if (item.precio_mayor && item.cantidad >= 3) {
          precioUnit = item.precio_mayor;
        }
        subtotal += precioUnit * item.cantidad;
      });
      if (descuentoCupon > 0) {
        subtotal = subtotal - descuentoCupon;
        if (subtotal < 0) subtotal = 0;
      }
      return subtotal;
    }

    function renderCart() {
      const container = document.getElementById('cartItems');
      const status = document.getElementById('cartStatus');
      const subtotalEl = document.getElementById('cartSubtotal');
      const shippingEl = document.getElementById('cartShipping');
      const totalEl = document.getElementById('cartTotal');
      const btnWa = document.getElementById('btnWhatsApp');

      container.innerHTML = '';

      if (!carrito.length) {
        status.textContent = 'Sin productos';
        subtotalEl.textContent = formatCurrency(0);
        shippingEl.textContent = formatCurrency(envioCosto);
        totalEl.textContent = formatCurrency(envioCosto);
        btnWa.disabled = true;
        updateNavCartCount();
        return;
      }

      status.textContent = carrito.length + ' producto(s)';
      let subtotal = 0;

      carrito.forEach(item => {
        let precioUnit = item.precio;
        if (item.precio_mayor && item.cantidad >= 3) {
          precioUnit = item.precio_mayor;
        }
        subtotal += precioUnit * item.cantidad;

        const row = document.createElement('div');
        row.className = 'cart-item';

        const main = document.createElement('div');
        main.className = 'cart-item-main';

        const title = document.createElement('div');
        title.className = 'cart-item-title';
        title.textContent = item.nombre;

        const meta = document.createElement('div');
        meta.className = 'cart-item-meta';
        meta.innerHTML = `<span>${formatCurrency(precioUnit)}</span><span>x ${item.cantidad}</span>`;

        main.appendChild(title);
        main.appendChild(meta);

        const actions = document.createElement('div');
        actions.className = 'cart-item-actions';

        const btnMinus = document.createElement('button');
        btnMinus.className = 'qty-btn';
        btnMinus.type = 'button';
        btnMinus.textContent = '-';
        btnMinus.onclick = () => changeQty(item.id, -1);

        const qty = document.createElement('span');
        qty.className = 'qty';
        qty.textContent = item.cantidad;

        const btnPlus = document.createElement('button');
        btnPlus.className = 'qty-btn';
        btnPlus.type = 'button';
        btnPlus.textContent = '+';
        btnPlus.onclick = () => changeQty(item.id, 1);

        const btnTrash = document.createElement('button');
        btnTrash.className = 'btn-trash';
        btnTrash.type = 'button';
        btnTrash.innerHTML = 'üóë';
        btnTrash.onclick = () => removeFromCart(item.id);

        actions.appendChild(btnMinus);
        actions.appendChild(qty);
        actions.appendChild(btnPlus);
        actions.appendChild(btnTrash);

        row.appendChild(main);
        row.appendChild(actions);

        container.appendChild(row);
      });

      if (descuentoCupon > 0) {
        subtotal -= descuentoCupon;
        if (subtotal < 0) subtotal = 0;
      }

      subtotalEl.textContent = formatCurrency(subtotal);
      shippingEl.textContent = formatCurrency(envioCosto);
      totalEl.textContent = formatCurrency(subtotal + envioCosto);
      btnWa.disabled = false;
      updateNavCartCount();
    }

    // ==========================
    // CUPONES
    // ==========================

    function aplicarCupon() {
      const input = document.getElementById('couponInput');
      const status = document.getElementById('couponStatus');
      const code = (input.value || '').trim().toUpperCase();
      if (!code) {
        descuentoCupon = 0;
        cuponAplicado = null;
        status.textContent = 'Ingresa un cup√≥n v√°lido.';
        renderCart();
        return;
      }

      // L√≥gica simple: si el cup√≥n coincide con alguno de los productos, aplica 10% al subtotal
      const existe = productos.some(p => (p.cupon || '').toUpperCase() === code);
      if (!existe) {
        descuentoCupon = 0;
        cuponAplicado = null;
        status.textContent = 'Cup√≥n no v√°lido.';
        renderCart();
        return;
      }

      const subtotalSinDescuento = carrito.reduce((acc, item) => {
        let precioUnit = item.precio;
        if (item.precio_mayor && item.cantidad >= 3) {
          precioUnit = item.precio_mayor;
        }
        return acc + precioUnit * item.cantidad;
      }, 0);

      descuentoCupon = subtotalSinDescuento * 0.1;
      cuponAplicado = code;
      status.textContent = 'Cup√≥n aplicado: -10%';
      renderCart();
    }

    // ==========================
    // ENV√çOS Y PAGOS
    // ==========================

    function updateShippingAndPayment() {
      const tipo = document.getElementById('envioSelect').value;
      const detalleSelect = document.getElementById('envioDetalle');
      envioTipo = tipo;
      envioSeleccionado = null;
      envioCosto = 0;

      detalleSelect.innerHTML = '<option value="">Detalle de env√≠o</option>';

      if (tipo === 'comayagua') {
        enviosComayagua.forEach((z, idx) => {
          const opt = document.createElement('option');
          opt.value = idx;
          opt.textContent = `${z.zona} (${formatCurrency(z.tarifa)})`;
          detalleSelect.appendChild(opt);
        });
      } else if (tipo === 'nacional') {
        enviosNacionales.forEach((e, idx) => {
          const opt = document.createElement('option');
          opt.value = idx;
          opt.textContent = `${e.empresa} - ${e.departamento}/${e.municipio} (${formatCurrency(e.costo)})`;
          detalleSelect.appendChild(opt);
        });
      }

      const idx = detalleSelect.value;
      if (tipo === 'comayagua' && idx !== '') {
        const z = enviosComayagua[idx];
        envioSeleccionado = z;
        envioCosto = Number(z.tarifa) || 0;
      } else if (tipo === 'nacional' && idx !== '') {
        const e = enviosNacionales[idx];
        envioSeleccionado = e;
        envioCosto = Number(e.costo) || 0;
      } else {
        envioCosto = 0;
      }

      updatePaymentFields();
      renderCart();
    }

    function updatePaymentFields() {
      const tipo = document.getElementById('envioSelect').value;
      const pago = document.getElementById('pagoSelect').value;
      const bancoSelect = document.getElementById('bancoSelect');
      const pagoExtra = document.getElementById('pagoExtra');

      bancoSelect.style.display = 'none';
      pagoExtra.style.display = 'none';
      pagoExtra.placeholder = '¬øCon cu√°nto pagar√°?';

      if (pago === 'transferencia') {
        bancoSelect.style.display = 'block';
        pagoExtra.style.display = 'block';
        pagoExtra.placeholder = 'Referencia de pago / n√∫mero de recibo';
      } else if (pago === 'contraentrega' && tipo === 'comayagua') {
        pagoExtra.style.display = 'block';
        pagoExtra.placeholder = '¬øCon cu√°nto pagar√°?';
      }

      // Si es nacional, no tiene sentido "¬øcon cu√°nto pagar√°?" en efectivo
      if (tipo === 'nacional' && pago === 'contraentrega') {
        pagoExtra.style.display = 'none';
      }
    }

    // ==========================
    // WHATSAPP
    // ==========================

    function buildWhatsAppMessage() {
      let msg = 'üõí *Nuevo pedido desde la tienda SDC*%0A%0A';

      msg += '*Productos:*%0A';
      carrito.forEach(item => {
        let precioUnit = item.precio;
        if (item.precio_mayor && item.cantidad >= 3) {
          precioUnit = item.precio_mayor;
        }
        msg += `‚Ä¢ ${item.nombre} x ${item.cantidad} ‚Äî ${formatCurrency(precioUnit * item.cantidad)}%0A`;
      });

      const subtotalText = document.getElementById('cartSubtotal').textContent;
      const shippingText = document.getElementById('cartShipping').textContent;
      const totalText = document.getElementById('cartTotal').textContent;

      msg += `%0A*Subtotal:* ${subtotalText}%0A`;
      if (cuponAplicado) {
        msg += `*Cup√≥n aplicado:* ${cuponAplicado}%0A`;
      }
      msg += `*Env√≠o:* ${shippingText}%0A`;
      msg += `*Total:* ${totalText}%0A%0A`;

      const tipoEnvio = document.getElementById('envioSelect').value;
      const detalleEnvio = document.getElementById('envioDetalle').value;
      const pago = document.getElementById('pagoSelect').value;
      const pagoExtra = document.getElementById('pagoExtra').value.trim();
      const banco = document.getElementById('bancoSelect').value;

      msg += '*Env√≠o:* ';
      if (tipoEnvio === 'comayagua' && detalleEnvio !== '') {
        const z = enviosComayagua[detalleEnvio];
        msg += `Comayagua - Zona ${z.zona} (${z.descripcion})%0A`;
      } else if (tipoEnvio === 'nacional' && detalleEnvio !== '') {
        const e = enviosNacionales[detalleEnvio];
        msg += `Nacional - ${e.empresa}, ${e.departamento}/${e.municipio}, ${e.tipo_servicio}%0A`;
      } else {
        msg += 'No especificado%0A';
      }

      msg += '*M√©todo de pago:* ';
      if (pago === 'contraentrega') msg += 'Pagar al recibir';
      else if (pago === 'transferencia') msg += 'Transferencia bancaria';
      else if (pago === 'paypal') msg += 'PayPal';
      else if (pago === 'tigo') msg += 'Tigo Money';
      else msg += 'No especificado';
      msg += '%0A';

      if (banco) {
        msg += `*Banco:* ${banco}%0A`;
      }

      if (pagoExtra) {
        msg += `*Detalle de pago:* ${encodeURIComponent(pagoExtra)}%0A`;
      }

      msg += '%0A*Datos del cliente:*%0A';
      msg += 'Nombre:%0A';
      msg += 'Tel√©fono:%0A';
      msg += 'Referencia de direcci√≥n:%0A';

      return msg;
    }

    function sendWhatsApp() {
      if (!carrito.length) return;
      const msg = buildWhatsAppMessage();
      const url = `https://wa.me/${WHATSAPP_NUMBER}?text=${msg}`;
      window.open(url, '_blank');
    }

    // ==========================
    // INICIO
    // ==========================

    document.getElementById('year').textContent = new Date().getFullYear();
    applyTranslations();
    loadData();

    // Modo cat√°logo: si est√° activo, ocultar carrito y bot√≥n WA
    if (CATALOG_ONLY) {
      document.getElementById('carrito').style.display = 'none';
      document.getElementById('btnWhatsApp').style.display = 'none';
      document.getElementById('navCartText').textContent = isEnglish ? 'Catalog only' : 'Solo cat√°logo';
    }

    // Admin panel simple: mostrar si la URL tiene ?admin=1
    if (window.location.search.includes('admin=1')) {
      document.getElementById('adminPanel').style.display = 'block';
    }
  </script>
</body>
</html>
